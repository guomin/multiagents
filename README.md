# å±•é™ˆè®¾è®¡å¤šæ™ºèƒ½ä½“ç³»ç»Ÿ

åŸºäº LangGraph å’Œ TypeScript æ„å»ºçš„å±•é™ˆè®¾è®¡å¤šæ™ºèƒ½ä½“åä½œç³»ç»Ÿï¼ŒåŒ…å«å®Œæ•´çš„å‰åç«¯å®ç°å’Œæ•°æ®åº“æŒä¹…åŒ–ã€‚

## ğŸ¯ ç³»ç»Ÿæ¦‚è¿°

è¿™ä¸ªç³»ç»Ÿä½¿ç”¨å¤šä¸ªä¸“ä¸šæ™ºèƒ½ä½“åä½œå®Œæˆå®Œæ•´çš„å±•é™ˆè®¾è®¡é¡¹ç›®ï¼š

- **ç­–åˆ’æ™ºèƒ½ä½“** (Curator Agent): æ¦‚å¿µç­–åˆ’ã€å±•å“é€‰æ‹©ã€å™äº‹ç»“æ„
- **ç©ºé—´è®¾è®¡æ™ºèƒ½ä½“** (Spatial Designer Agent): ç©ºé—´å¸ƒå±€ã€å‚è§‚åŠ¨çº¿ã€åŠŸèƒ½åˆ†åŒº
- **è§†è§‰è®¾è®¡æ™ºèƒ½ä½“** (Visual Designer Agent): è‰²å½©æ­é…ã€å­—ä½“è®¾è®¡ã€å“ç‰Œå…ƒç´ 
- **äº’åŠ¨æŠ€æœ¯æ™ºèƒ½ä½“** (Interactive Tech Agent): å¤šåª’ä½“æ–¹æ¡ˆã€äº’åŠ¨è£…ç½®ã€æŠ€æœ¯å®ç°
- **é¢„ç®—æ§åˆ¶æ™ºèƒ½ä½“** (Budget Controller Agent): æˆæœ¬ä¼°ç®—ã€èµ„æºåˆ†é…ã€é£é™©æ§åˆ¶
- **åè°ƒä¸»ç®¡æ™ºèƒ½ä½“** (Supervisor Agent): ç»Ÿç­¹åè°ƒã€è¿›åº¦ç®¡ç†ã€è´¨é‡æŠŠæ§

## âœ¨ æ–°å¢åŠŸèƒ½

- ğŸ’¾ **æ•°æ®åº“æŒä¹…åŒ–**: ä½¿ç”¨ SQLite å­˜å‚¨æ‰€æœ‰é¡¹ç›®å†å²
- ğŸ“Š **é¡¹ç›®ç®¡ç†**: å®Œæ•´çš„é¡¹ç›® CRUD æ“ä½œ
- ğŸ”Œ **RESTful API**: æ ‡å‡†åŒ–çš„åç«¯ API æ¥å£
- ğŸ¨ **ç°ä»£åŒ–å‰ç«¯**: åŸºäº Vue 3 + Element Plus çš„ Web ç•Œé¢
- ğŸ“¡ **å®æ—¶æ›´æ–°**: WebSocket æ”¯æŒæ™ºèƒ½ä½“çŠ¶æ€å®æ—¶æ¨é€

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ææ¡ä»¶

- Node.js 18+
- npm æˆ– yarn

### 1. å®‰è£…ä¾èµ–

```bash
# å®‰è£…æ ¹ç›®å½•ä¾èµ–ï¼ˆå¤šæ™ºèƒ½ä½“æ ¸å¿ƒï¼‰
npm install

# å®‰è£…åç«¯ä¾èµ–
cd backend && npm install && cd ..

# å®‰è£…å‰ç«¯ä¾èµ–
cd frontend && npm install && cd ..
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

å¤åˆ¶ `.env.example` åˆ° `.env` å¹¶é…ç½®ä½ çš„æ¨¡å‹æä¾›å•†ï¼š

```bash
cp .env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œé€‰æ‹©ä½¿ç”¨ OpenAI æˆ– DeepSeekï¼š

**ä½¿ç”¨ DeepSeek (æ¨èï¼Œæˆæœ¬æ›´ä½):**
```
MODEL_PROVIDER=deepseek
DEEPSEEK_API_KEY=your_deepseek_api_key_here
DEFAULT_MODEL=deepseek-chat
```

**ä½¿ç”¨ OpenAI:**
```
MODEL_PROVIDER=openai
OPENAI_API_KEY=your_openai_api_key_here
DEFAULT_MODEL=gpt-4-turbo-preview
```

### 3. éªŒè¯é…ç½®

```bash
npm run config:validate
```

### 4. è¿è¡Œç¤ºä¾‹

```bash
# è¿è¡Œå®Œæ•´ç¤ºä¾‹ï¼ˆä½¿ç”¨é…ç½®çš„æ¨¡å‹ï¼‰
npm run start

# è¿è¡ŒåŸºç¡€ç¤ºä¾‹
npm run test

# è¿è¡Œ DeepSeek ä¸“ç”¨ç¤ºä¾‹
npm run test-deepseek
```

### 5. è¿è¡Œåç«¯æœåŠ¡

```bash
cd backend
npm run dev
```

åç«¯æœåŠ¡å°†åœ¨ `http://localhost:3001` å¯åŠ¨ã€‚

### 6. è¿è¡Œå‰ç«¯åº”ç”¨

```bash
cd frontend
npm run dev
```

å‰ç«¯åº”ç”¨å°†åœ¨ `http://localhost:3000` å¯åŠ¨ã€‚

### 7. è®¿é—®åº”ç”¨

æ‰“å¼€æµè§ˆå™¨è®¿é—® `http://localhost:3000`ï¼Œå¼€å§‹ä½¿ç”¨å±•é™ˆè®¾è®¡å¤šæ™ºèƒ½ä½“ç³»ç»Ÿã€‚

## ğŸ“š API ç«¯ç‚¹

### å±•è§ˆè®¾è®¡ API

- `POST /api/exhibition/run` - è¿è¡Œå±•è§ˆè®¾è®¡å·¥ä½œæµ
- `GET /api/model-config` - è·å–æ¨¡å‹é…ç½®
- `GET /api/exhibition/workflow/:id` - è·å–å·¥ä½œæµçŠ¶æ€
- `DELETE /api/exhibition/workflow/:id` - å–æ¶ˆå·¥ä½œæµ
- `GET /api/exhibition/export/:id` - å¯¼å‡ºæŠ¥å‘Š

### é¡¹ç›®ç®¡ç† API

- `GET /api/projects` - è·å–é¡¹ç›®åˆ—è¡¨
- `GET /api/projects/stats` - è·å–é¡¹ç›®ç»Ÿè®¡
- `GET /api/projects/:id` - è·å–é¡¹ç›®è¯¦æƒ…
- `DELETE /api/projects/:id` - åˆ é™¤é¡¹ç›®
- `GET /api/projects/:id/workflows` - è·å–é¡¹ç›®å·¥ä½œæµ

## ğŸ’¾ æ•°æ®åº“

ç³»ç»Ÿä½¿ç”¨ SQLite æ•°æ®åº“å­˜å‚¨æ•°æ®ï¼Œæ•°æ®åº“æ–‡ä»¶ä½äº `backend/data/exhibition.db`ã€‚

### æ•°æ®åº“è¡¨ç»“æ„

- `projects` - é¡¹ç›®ä¿¡æ¯
- `workflows` - å·¥ä½œæµè®°å½•
- `agent_executions` - æ™ºèƒ½ä½“æ‰§è¡Œè®°å½•
- `design_results` - è®¾è®¡ç»“æœ

æ•°æ®åº“ä¼šåœ¨åç«¯é¦–æ¬¡å¯åŠ¨æ—¶è‡ªåŠ¨åˆ›å»ºå’Œåˆå§‹åŒ–ã€‚

## ğŸ¤– æ¨¡å‹æ”¯æŒ

æœ¬ç³»ç»Ÿæ”¯æŒä¸¤ç§ä¸»è¦æ¨¡å‹æä¾›å•†ï¼š

### DeepSeek
- **deepseek-chat**: é€šç”¨å¯¹è¯æ¨¡å‹ï¼Œé€‚åˆåˆ›æ„è®¾è®¡
- **deepseek-coder**: ä¸“é—¨çš„ä»£ç ç”Ÿæˆæ¨¡å‹
- **ä¼˜åŠ¿**: æˆæœ¬æ›´ä½ï¼Œå“åº”é€Ÿåº¦å¿«ï¼Œä¸­æ–‡æ”¯æŒä¼˜ç§€

### OpenAI
- **gpt-4-turbo-preview**: æœ€æ–°çš„ GPT-4 æ¨¡å‹
- **gpt-4**: ç¨³å®šçš„ GPT-4 æ¨¡å‹
- **gpt-3.5-turbo**: å¿«é€Ÿä¸”ç»æµçš„é€‰æ‹©

### æ¨¡å‹å¯¹æ¯”

| ç‰¹æ€§ | DeepSeek | OpenAI GPT-4 |
|------|----------|--------------|
| æˆæœ¬ | ğŸ’° ä½ | ğŸ’°ğŸ’° é«˜ |
| ä¸­æ–‡æ”¯æŒ | ğŸ‡¨ğŸ‡³ ä¼˜ç§€ | ğŸ‡¨ğŸ‡³ è‰¯å¥½ |
| åˆ›æ„èƒ½åŠ› | âœ… ä¼˜ç§€ | âœ… ä¼˜ç§€ |
| å“åº”é€Ÿåº¦ | âš¡ å¿« | âš¡âš¡ ä¸­ç­‰ |
| APIç¨³å®šæ€§ | âœ… ç¨³å®š | âœ… éå¸¸ç¨³å®š |

## ğŸ“ é¡¹ç›®ç»“æ„

```
multiagents/
â”œâ”€â”€ backend/                # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ agents/         # æ™ºèƒ½ä½“å®ç°
â”‚   â”‚   â”œâ”€â”€ config/         # é…ç½®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ database/       # æ•°æ®åº“å±‚
â”‚   â”‚   â”œâ”€â”€ graph/          # LangGraph å·¥ä½œæµ
â”‚   â”‚   â”œâ”€â”€ middleware/     # ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ routes/         # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ types/          # TypeScript ç±»å‹
â”‚   â”‚   â”œâ”€â”€ utils/          # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ index.ts        # åç«¯å…¥å£
â”‚   â”œâ”€â”€ data/               # æ•°æ®åº“æ–‡ä»¶ç›®å½•
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ frontend/               # å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ api/            # API è°ƒç”¨
â”‚   â”‚   â”œâ”€â”€ components/     # Vue ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ composables/    # ç»„åˆå¼å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ router/         # è·¯ç”±é…ç½®
â”‚   â”‚   â”œâ”€â”€ stores/         # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ types/          # TypeScript ç±»å‹
â”‚   â”‚   â”œâ”€â”€ views/          # é¡µé¢è§†å›¾
â”‚   â”‚   â”œâ”€â”€ App.vue
â”‚   â”‚   â””â”€â”€ main.ts
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ src/                    # æ ¸å¿ƒæ™ºèƒ½ä½“ç³»ç»Ÿ
â”‚   â”œâ”€â”€ agents/             # æ™ºèƒ½ä½“å®ç°
â”‚   â”œâ”€â”€ config/             # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ examples/           # ç¤ºä¾‹ä»£ç 
â”‚   â”œâ”€â”€ graph/              # LangGraph å·¥ä½œæµ
â”‚   â”œâ”€â”€ types/              # TypeScript ç±»å‹
â”‚   â””â”€â”€ index.ts            # ä¸»å…¥å£æ–‡ä»¶
â””â”€â”€ README.md
```

## ğŸ—ï¸ å·¥ä½œæµç¨‹

1. **æ¦‚å¿µç­–åˆ’** â†’ ç”Ÿæˆå±•è§ˆæ ¸å¿ƒæ¦‚å¿µã€å™äº‹ç»“æ„å’Œé‡ç‚¹å±•å“
2. **ç©ºé—´è®¾è®¡** â†’ æ ¹æ®æ¦‚å¿µæ–¹æ¡ˆè®¾è®¡ç©ºé—´å¸ƒå±€å’Œå‚è§‚åŠ¨çº¿
3. **è§†è§‰è®¾è®¡** â†’ ç¡®å®šè‰²å½©æ–¹æ¡ˆã€å­—ä½“è®¾è®¡å’Œå“ç‰Œå…ƒç´ 
4. **äº’åŠ¨æŠ€æœ¯** â†’ è®¾è®¡å¤šåª’ä½“äº’åŠ¨æ–¹æ¡ˆå’ŒæŠ€æœ¯å®ç°
5. **é¢„ç®—ä¼°ç®—** â†’ åŸºäºè®¾è®¡æ–¹æ¡ˆè¿›è¡Œè¯¦ç»†æˆæœ¬ä¼°ç®—
6. **åè°ƒç»Ÿç­¹** â†’ ä¸»ç®¡æ™ºèƒ½ä½“åˆ†æè¿›åº¦ï¼Œç¡®ä¿è´¨é‡

## ğŸ’¡ è‡ªå®šä¹‰ä½¿ç”¨

### åˆ›å»ºè‡ªå®šä¹‰å±•è§ˆéœ€æ±‚

```typescript
import { ExhibitionRequirement, ExhibitionDesignGraph } from './src';

const customRequirement: ExhibitionRequirement = {
  title: "ä½ çš„å±•è§ˆæ ‡é¢˜",
  theme: "å±•è§ˆä¸»é¢˜æè¿°",
  targetAudience: "ç›®æ ‡å—ä¼—",
  venueSpace: {
    area: 1000, // å¹³æ–¹ç±³
    height: 5,  // ç±³
    layout: "åœºåœ°å¸ƒå±€æè¿°"
  },
  budget: {
    total: 500000,
    currency: "CNY"
  },
  duration: {
    startDate: "2025-06-01",
    endDate: "2025-09-01"
  },
  specialRequirements: [
    "ç‰¹æ®Šè¦æ±‚1",
    "ç‰¹æ®Šè¦æ±‚2"
  ]
};

const system = new ExhibitionDesignGraph();
const result = await system.runExhibition(customRequirement);
```

### æ‰©å±•æ™ºèƒ½ä½“

ä½ å¯ä»¥è½»æ¾æ·»åŠ æ–°çš„ä¸“ä¸šæ™ºèƒ½ä½“ï¼š

1. åœ¨ `src/agents/` ç›®å½•ä¸‹åˆ›å»ºæ–°çš„æ™ºèƒ½ä½“æ–‡ä»¶
2. å®šä¹‰æ™ºèƒ½ä½“çš„è¾“å…¥è¾“å‡ºç±»å‹
3. åœ¨ `exhibition-graph.ts` ä¸­æ·»åŠ æ–°èŠ‚ç‚¹å’Œå·¥ä½œæµç¨‹

## ğŸ”§ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°çš„æ™ºèƒ½ä½“

1. **åˆ›å»ºæ™ºèƒ½ä½“ç±»**
```typescript
export class NewAgent {
  private llm: ChatOpenAI;

  constructor() {
    this.llm = new ChatOpenAI({...});
  }

  async execute(input: InputType): Promise<OutputType> {
    // å®ç°æ™ºèƒ½ä½“é€»è¾‘
  }
}
```

2. **æ·»åŠ åˆ°å·¥ä½œæµ**
```typescript
// åœ¨ exhibition-graph.ts ä¸­
workflow.addNode("new_agent", newAgentNode);
workflow.addConditionalEdges("previous_node", ...);
```

3. **æ›´æ–°çŠ¶æ€ç±»å‹**
```typescript
// åœ¨ exhibition.ts ä¸­
export const ExhibitionStateSchema = z.object({
  // æ·»åŠ æ–°çš„çŠ¶æ€å­—æ®µ
  newOutput: NewOutputSchema.optional()
});
```

## ğŸ¨ ç¤ºä¾‹é¡¹ç›®

ç³»ç»Ÿå†…ç½®äº†å¤šä¸ªç¤ºä¾‹é¡¹ç›®ï¼š

- **æ•°å­—è‰ºæœ¯çš„æœªæ¥**: æ¢ç´¢AIä¸è‰ºæœ¯èåˆçš„åˆ›æ–°å±•è§ˆ
- **ç§‘æŠ€ä¸ç”Ÿæ´»**: å±•ç¤ºç°ä»£ç§‘æŠ€å¦‚ä½•æ”¹å˜æ—¥å¸¸ç”Ÿæ´»çš„ç§‘æ™®å±•è§ˆ

ä½ å¯ä»¥åŸºäºè¿™äº›ç¤ºä¾‹å¿«é€Ÿå¼€å§‹ï¼Œæˆ–è€…åˆ›å»ºè‡ªå·±çš„å±•è§ˆé¡¹ç›®ã€‚

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **API å¯†é’¥**: ç¡®ä¿è®¾ç½®æœ‰æ•ˆçš„ OpenAI API å¯†é’¥
2. **æ¨¡å‹é€‰æ‹©**: æ¨èä½¿ç”¨ GPT-4 ä»¥è·å¾—æ›´å¥½çš„è®¾è®¡è´¨é‡
3. **é¢„ç®—èŒƒå›´**: ç³»ç»Ÿä¼šæ ¹æ®é¢„ç®—ç”Ÿæˆç›¸åº”æ°´å¹³çš„è®¾è®¡æ–¹æ¡ˆ
4. **å¤„ç†æ—¶é—´**: å®Œæ•´æµç¨‹å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿï¼Œå–å†³äºç½‘ç»œå’ŒAPIå“åº”é€Ÿåº¦

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Request æ¥æ”¹è¿›è¿™ä¸ªé¡¹ç›®ï¼

## ğŸ“„ è®¸å¯è¯

MIT License